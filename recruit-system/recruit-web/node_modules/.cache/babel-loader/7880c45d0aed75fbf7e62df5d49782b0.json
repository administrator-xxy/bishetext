{"remainingRequest":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\src\\view\\resume\\detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\src\\view\\resume\\detail.vue","mtime":1656036094000},{"path":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\babel.config.js","mtime":1656036094000},{"path":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677772052210},{"path":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1677771858682},{"path":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677772052210},{"path":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1677772060461}],"contextDependencies":[],"result":["import _regeneratorRuntime from \"C:\\\\Users\\\\Hacker\\\\Desktop\\\\zhaop\\\\resume-master\\\\resume-master\\\\recruit-system\\\\recruit-web\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Title from \"../../component/Title/index.vue\";\nimport Content from \"../../component/Content/index.vue\";\nimport moment from 'moment';\nimport _exportPDF from './export-pdf';\nimport { Resume } from '@/model/resume';\nexport default {\n  name: \"Detail\",\n  components: {\n    Title: Title,\n    Content: Content\n  },\n  props: {\n    id: String\n  },\n  watch: {\n    id: function id(now, old) {\n      console.log(now, old);\n      this.updataInfo(now);\n    }\n  },\n  data: function data() {\n    return {\n      downloading: false,\n      model: \"p\",\n      // 基本信息\n      // 头像照片\n      avatar: \"\",\n      jobIntention: \"\",\n      name: \"\",\n      sex: \"\",\n      age: \"\",\n      english: \"\",\n      tel: \"1\",\n      email: \"\",\n      home: \"\",\n      // 教育经历\n      educations: [{\n        name: \"\",\n        start_time: \"\",\n        end_time: \"\",\n        major: \"\",\n        diploma: \"\",\n        descriptions: \"\"\n      }],\n      // 专业技能\n      ability: {\n        // 专业技能显示模式，ol为有序列表（前面是数字），ul为无序列表（前面是圆点），p为段落\n        skillsMode: 'p',\n        descriptions: \"\"\n      },\n      // 项目经历\n      projects: [{\n        name: \"\",\n        start_time: \"\",\n        end_time: \"\",\n        major: \"\",\n        // 项目背景显示模式，ol为有序列表（前面是数字），ul为无序列表（前面是圆点），p为段落\n        backgroundMode: 'ol',\n        background: '',\n        performance: \"\"\n      }],\n      // 实习经历\n      experiences: [{\n        name: \"\",\n        start_time: \"\",\n        end_time: \"\",\n        position: \"\",\n        performance: \"\"\n      }],\n      // 个人评价\n      evaluate: {\n        // 个人评价显示模式，ol为有序列表（前面是数字），ul为无序列表（前面是圆点），p为段落\n        wordMode: 'p',\n        word: ''\n      }\n    };\n  },\n  mounted: function () {\n    var _mounted = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n\n              if (!(this.id === null || this.id == '')) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 3:\n              _context.next = 5;\n              return Resume.getById(this.id);\n\n            case 5:\n              res = _context.sent;\n              console.log(res);\n              this.ability.descriptions = res.ability, this.avatar = res.avatar, this.educations = res.educations, this.experiences = res.experiences, this.projects = res.projects, this.jobIntention = res.job_intention, this.english = res.english, this.name = res.name, this.sex = res.sex === 0 ? \"男\" : \"女\", this.evaluate.word = res.personal_summary, this.tel = res.tel, this.age = res.age, this.email = res.email, this.home = res.home;\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 13:\n              _context.prev = 13;\n              this.imageUrlToBase64();\n              return _context.finish(13);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[0, 10, 13, 16]]);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  created: function created() {},\n  methods: {\n    imageUrlToBase64: function imageUrlToBase64() {\n      //一定要设置为let，不然图片不显示\n      var image = new Image(); //解决跨域问题\n\n      image.setAttribute('crossOrigin', 'anonymous');\n      var imageUrl = this.avatar;\n      image.src = imageUrl;\n      var that = this; //image.onload为异步加载\n\n      image.onload = function () {\n        var canvas = document.createElement(\"canvas\");\n        canvas.width = image.width;\n        canvas.height = image.height;\n        var context = canvas.getContext('2d');\n        context.drawImage(image, 0, 0, image.width, image.height);\n        var quality = 0.8; //这里的dataurl就是base64类型\n\n        var dataURL = canvas.toDataURL(\"image/jpeg\", quality); //使用toDataUrl将图片转换成jpeg的格式,不要把图片压缩成png，因为压缩成png后base64的字符串可能比不转换前的长！          \n\n        that.avatar = dataURL;\n      };\n    },\n    exportPDF: function exportPDF() {\n      try {\n        this.downloading = true;\n        this.imageUrlToBase64();\n\n        _exportPDF.exportPdf(\"downResume\", this.name + \"-\" + this.jobIntention);\n      } catch (err) {\n        this.$message.error(\"导出简历发生错误\");\n        this.downloading = false;\n      } finally {\n        this.downloading = false;\n        this.$message.success(\"导出简历成功\");\n      }\n    },\n    changeDiploma: function changeDiploma(value) {\n      if (value == 0) return \"高中\";else if (value == 1) return \"大学专科\";else if (value == 2) return \"大学本科\";else if (value == 3) return \"硕士研究生\";else if (value == 4) return \"博士研究生\";else return \"\";\n    },\n    dateformat: function dateformat(date) {\n      return moment(date).format(\"YYYY\");\n    },\n    monthformat: function monthformat(date) {\n      return moment(date).format(\"YYYY.MM\");\n    },\n    updataInfo: function () {\n      var _updataInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(nowid) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return Resume.getById(nowid);\n\n              case 3:\n                res = _context2.sent;\n                console.log(res);\n                this.ability.descriptions = res.ability, this.avatar = res.avatar, this.educations = res.educations, this.experiences = res.experiences, this.projects = res.projects, this.jobIntention = res.job_intention, this.english = res.english, this.name = res.name, this.sex = res.sex === 0 ? \"男\" : \"女\", this.evaluate.word = res.personal_summary, this.tel = res.tel, this.age = res.age, this.email = res.email, this.home = res.home;\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log(_context2.t0);\n\n              case 11:\n                _context2.prev = 11;\n                return _context2.finish(11);\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 8, 11, 13]]);\n      }));\n\n      function updataInfo(_x) {\n        return _updataInfo.apply(this, arguments);\n      }\n\n      return updataInfo;\n    }()\n  }\n};",{"version":3,"mappings":"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","names":["Resume","name","components","Title","Content","props","id","watch","now","old","console","data","downloading","model","avatar","jobIntention","sex","age","english","tel","email","home","educations","start_time","end_time","major","diploma","descriptions","ability","skillsMode","projects","backgroundMode","background","performance","experiences","position","evaluate","wordMode","word","mounted","res","created","methods","imageUrlToBase64","image","canvas","context","that","exportPDF","changeDiploma","value","dateformat","date","monthformat","updataInfo","nowid"],"sourceRoot":"src/view/resume","sources":["detail.vue"],"sourcesContent":["<template>\n  <div>\n    <el-button round style=\"float:right\" type=\"success\" @click=\"exportPDF()\" v-loading=\"downloading\">导出简历</el-button>\n    <div class=\"index\" id=\"downResume\">\n      <div class=\"resume\">\n        <!-- 基本信息 -->\n        <div class=\"info\">\n          <div class=\"info_left_img\">\n            <!-- <el-avatar :size=\"120\"></el-avatar> -->\n            <!-- <el-avatar :size=\"120\" :src=\"avatar\"></el-avatar> -->\n            <img :src=\"avatar\" size=\"120\" class=\"aa\">\n          </div>\n          <div class=\"info-right\">\n            <div class=\"info_name\">\n              <h1>{{ name }}</h1>\n              <span>{{ jobIntention }}</span>\n            </div>\n            <div class=\"info_other\">\n              <el-row :gutter=\"15\">\n                <el-form ref=\"resultForm\" size=\"medium\" label-width=\"100px\" label-position=\"left\">\n                  <el-col :span=\"8\">\n                    <el-form-item label-width=\"0\">\n                      <i class=\"el-icon-s-custom\"></i>\n                      {{ sex }}|{{ age }}\n                    </el-form-item>\n                  </el-col>\n                  <el-col :span=\"8\">\n                    <el-form-item label-width=\"0\">\n                      <i class=\"el-icon-star-off\"></i>\n                      {{ english }}\n                    </el-form-item>\n                  </el-col>\n                  <el-col :span=\"8\">\n                    <el-form-item label-width=\"0\">\n                      <i class=\"el-icon-phone\"></i>\n                      {{ tel }}\n                    </el-form-item>\n                  </el-col>\n                  <el-col :span=\"8\">\n                    <el-form-item label-width=\"0\">\n                      <i class=\"el-icon-message\"></i>\n                      {{ email }}\n                    </el-form-item>\n                  </el-col>\n                  <el-col :span=\"8\">\n                    <el-form-item label-width=\"0\">\n                      <i class=\"el-icon-s-home\"></i>\n                      {{ home }}\n                    </el-form-item>\n                  </el-col>\n                </el-form>\n              </el-row>\n            </div>\n          </div>\n        </div>\n\n        <!-- 教育经历 -->\n        <div class=\"education\">\n          <Title title=\"教育背景\" />\n          <div class=\"main\">\n            <div v-for=\"(item, index) in educations\" :key=\"index\">\n              <el-row :gutter=\"20\">\n                <el-col :span=\"6\">\n                  <span>{{ item.name }}</span>\n                </el-col>\n                <el-col :span=\"6\">\n                  <span>{{ item.major }}</span>\n                </el-col>\n                <el-col :span=\"5\">\n                  <span>{{ changeDiploma(item.diploma) }}</span>\n                </el-col>\n                <el-col :span=\"5\" :offset=\"2\" class=\"time\">\n                  <span>{{ monthformat(item.start_time) }}-{{ monthformat(item.end_time) }}</span>\n                </el-col>\n              </el-row>\n              <Content :data=\"item.descriptions\" />\n            </div>\n          </div>\n        </div>\n\n        <!-- 专业技能 -->\n        <div class=\"skill\">\n          <Title title=\"专业技能\" />\n          <div class=\"main\">\n            <Content :data=\"ability.descriptions\" :mode=\"model\" />\n          </div>\n        </div>\n\n        <!-- 实习经历 -->\n        <div class=\"internship\" v-if=\"experiences\">\n          <Title title=\"实习经历\" />\n          <div class=\"main\">\n            <div v-for=\"(experience, index) in experiences\" :key=\"index\">\n              <el-row :gutter=\"20\">\n                <el-col :span=\"10\">\n                  <span class=\"weight\">{{ experience.name }}</span>\n                </el-col>\n                <el-col :span=\"5\">\n                  <span>{{ experience.position }}</span>\n                </el-col>\n                <el-col :span=\"5\" :offset=\"4\" class=\"time\">\n                  <span>{{ monthformat(experience.start_time) }}-{{ monthformat(experience.end_time) }}</span>\n                </el-col>\n              </el-row>\n              <Content :data=\"experience.performance\" />\n            </div>\n          </div>\n        </div>\n\n        <!-- 项目经历 -->\n        <div class=\"projects\" v-if=\"projects\">\n          <Title title=\"项目经历\" />\n          <div class=\"main\">\n            <div v-for=\"(project, index) in projects\" :key=\"index\">\n              <el-row :gutter=\"20\">\n                <el-col :span=\"10\">\n                  <span class=\"project_name weight\">\n                    {{\n                        project.name\n                    }}\n                  </span>\n                </el-col>\n                <el-col :span=\"5\">\n                  <span>{{ project.position }}</span>\n                </el-col>\n                <el-col :span=\"5\" :offset=\"9\" class=\"time\">\n                  <span>{{ monthformat(project.start_time) }}-{{ monthformat(project.end_time) }}</span>\n                </el-col>\n                <!-- <el-col :span=\"24\">\n                <span class=\"weight\">项目地址：</span>\n                <span>{{ project.address }}</span>\n              </el-col>-->\n              </el-row>\n              <div class=\"weight\">项目背景：</div>\n              <Content :data=\"project.background\" :mode=\"project.backgroundMode\" />\n              <div class=\"weight\">项目描述：</div>\n              <Content :data=\"project.performance\" />\n            </div>\n          </div>\n        </div>\n\n        <!-- 个人评价 -->\n        <div class=\"evaluate\" v-if=\"evaluate\">\n          <Title title=\"个人评价\" />\n          <div class=\"main\">\n            <Content :data=\"evaluate.word\" :mode=\"evaluate.wordMode\" />\n            <Content :data=\"evaluate.descriptions\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Title from \"../../component/Title/index.vue\";\nimport Content from \"../../component/Content/index.vue\";\nimport moment from 'moment';\nimport exportPDF from './export-pdf'\nimport {\n  Resume\n} from '@/model/resume'\nexport default {\n  name: \"Detail\",\n  components: {\n    Title,\n    Content,\n  },\n  props: {\n    id: String,\n  },\n  watch: {\n    id(now, old) {\n      console.log(now, old)\n      this.updataInfo(now)\n    }\n  },\n  data() {\n    return {\n      downloading: false,\n      model: \"p\",\n      // 基本信息\n      // 头像照片\n      avatar: \"\",\n      jobIntention: \"\",\n      name: \"\",\n      sex: \"\",\n      age: \"\",\n      english: \"\",\n      tel: \"1\",\n      email: \"\",\n      home: \"\",\n      // 教育经历\n      educations: [{\n        name: \"\",\n        start_time: \"\",\n        end_time: \"\",\n        major: \"\",\n        diploma: \"\",\n        descriptions: \"\",\n      },],\n      // 专业技能\n      ability: {\n        // 专业技能显示模式，ol为有序列表（前面是数字），ul为无序列表（前面是圆点），p为段落\n        skillsMode: 'p',\n        descriptions: \"\",\n      },\n      // 项目经历\n      projects: [{\n        name: \"\",\n        start_time: \"\",\n        end_time: \"\",\n        major: \"\",\n        // 项目背景显示模式，ol为有序列表（前面是数字），ul为无序列表（前面是圆点），p为段落\n        backgroundMode: 'ol',\n        background: '',\n        performance: \"\"\n      },],\n      // 实习经历\n      experiences: [{\n        name: \"\",\n        start_time: \"\",\n        end_time: \"\",\n        position: \"\",\n        performance: \"\",\n      },],\n      // 个人评价\n      evaluate: {\n        // 个人评价显示模式，ol为有序列表（前面是数字），ul为无序列表（前面是圆点），p为段落\n        wordMode: 'p',\n        word: ''\n      }\n    };\n  },\n  async mounted() {\n    try {\n      if (this.id === null || this.id == '') return\n      const res = await Resume.getById(this.id)\n      console.log(res)\n      this.ability.descriptions = res.ability,\n        this.avatar = res.avatar,\n        this.educations = res.educations,\n        this.experiences = res.experiences,\n        this.projects = res.projects,\n        this.jobIntention = res.job_intention,\n        this.english = res.english,\n        this.name = res.name,\n        this.sex = res.sex === 0 ? \"男\" : \"女\",\n        this.evaluate.word = res.personal_summary,\n        this.tel = res.tel,\n        this.age = res.age,\n        this.email = res.email,\n        this.home = res.home\n\n    } catch (error) {\n      console.log(error)\n    } finally {\n      this.imageUrlToBase64()\n    }\n  },\n  created() { },\n  methods: {\n    imageUrlToBase64() {\n      //一定要设置为let，不然图片不显示\n      let image = new Image();\n      //解决跨域问题\n      image.setAttribute('crossOrigin', 'anonymous');\n      let imageUrl = this.avatar;\n      image.src = imageUrl\n      let that = this;\n      //image.onload为异步加载\n      image.onload = () => {\n        var canvas = document.createElement(\"canvas\");\n        canvas.width = image.width;\n        canvas.height = image.height;\n        var context = canvas.getContext('2d');\n        context.drawImage(image, 0, 0, image.width, image.height);\n        var quality = 0.8;\n        //这里的dataurl就是base64类型\n        var dataURL = canvas.toDataURL(\"image/jpeg\", quality);//使用toDataUrl将图片转换成jpeg的格式,不要把图片压缩成png，因为压缩成png后base64的字符串可能比不转换前的长！          \n        that.avatar = dataURL\n      }\n    },\n    exportPDF() {\n      try {\n        this.downloading = true\n        this.imageUrlToBase64()\n        exportPDF.exportPdf(\"downResume\", this.name + \"-\" + this.jobIntention)\n      } catch (err) {\n        this.$message.error(\"导出简历发生错误\")\n        this.downloading = false\n      } finally {\n        this.downloading = false;\n        this.$message.success(\"导出简历成功\")\n      }\n    },\n    changeDiploma(value) {\n      if (value == 0) return \"高中\"\n      else if (value == 1) return \"大学专科\"\n      else if (value == 2) return \"大学本科\"\n      else if (value == 3) return \"硕士研究生\"\n      else if (value == 4) return \"博士研究生\"\n      else return \"\"\n    },\n    dateformat(date) {\n      return moment(date).format(\"YYYY\")\n    },\n    monthformat(date) {\n      return moment(date).format(\"YYYY.MM\")\n    },\n    async updataInfo(nowid) {\n      try {\n        const res = await Resume.getById(nowid)\n        console.log(res)\n        this.ability.descriptions = res.ability,\n          this.avatar = res.avatar,\n          this.educations = res.educations,\n          this.experiences = res.experiences,\n          this.projects = res.projects,\n          this.jobIntention = res.job_intention,\n          this.english = res.english,\n          this.name = res.name,\n          this.sex = res.sex === 0 ? \"男\" : \"女\",\n          this.evaluate.word = res.personal_summary,\n          this.tel = res.tel,\n          this.age = res.age,\n          this.email = res.email,\n          this.home = res.home\n      } catch (error) {\n        console.log(error)\n      } finally { }\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.aa {\n  width: 120px;\n  height: 120px;\n  border-radius: 50%;\n  overflow: hidden;\n}\n\n.aa img {\n  position: relative;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  margin: 0 auto;\n  height: 100%;\n}\n\n.index {\n  margin: 20px auto;\n\n  .resume {\n    width: 820px;\n    margin: 0 auto;\n    padding: 20px 20px;\n    box-shadow: 0px 3px 10px 5px #e9e9e9;\n    border-radius: 10px;\n    line-height: 28px;\n\n    .weight {\n      font-weight: 500;\n    }\n\n    .main {\n      padding: 20px 12px 30px 12px;\n    }\n\n    .time {\n      span {\n        color: #a8a8a8;\n      }\n    }\n\n    .info {\n      margin-bottom: 0px;\n    }\n\n    .info {\n      display: flex;\n      align-items: center;\n\n      .info_left_img {\n        ::v-deep img {\n          width: 100%;\n        }\n      }\n\n      .info-right {\n        margin-left: 50px;\n      }\n\n      &_name {\n        line-height: 80px;\n        display: flex;\n\n        h1 {\n          font-size: 32px;\n        }\n\n        span {\n          margin-left: 15px;\n          font-size: 14px;\n        }\n      }\n\n      &_other {\n        ::v-deep .el-descriptions__cell {\n          padding-right: 35px;\n        }\n\n        i {\n          color: #c0c4cc;\n          font-size: 15px;\n          margin-right: 10px;\n        }\n      }\n    }\n\n    .project {\n      .project_name {\n        letter-spacing: 1px;\n        font-size: 16px;\n      }\n    }\n  }\n}\n</style>\n"]}]}