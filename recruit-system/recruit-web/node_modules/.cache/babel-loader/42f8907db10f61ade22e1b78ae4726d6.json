{"remainingRequest":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\src\\view\\resume\\export-pdf.js","dependencies":[{"path":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\src\\view\\resume\\export-pdf.js","mtime":1656036094000},{"path":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\babel.config.js","mtime":1656036094000},{"path":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677772052210},{"path":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1677771858682},{"path":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1677771968250}],"contextDependencies":[],"result":["import html2canvas from 'html2canvas';\nimport jsPDF from 'jspdf';\nexport default {\n  exportPdf: function exportPdf(elementId, htmlTitle) {\n    var element = document.getElementById(elementId);\n    html2canvas(element, {\n      logging: true,\n      allowTaint: true,\n      useCORS: true,\n      tainttest: true\n    }).then(function (canvas) {\n      var pdf = new jsPDF('p', 'mm', 'a4'); //A4纸，纵向\n\n      var ctx = canvas.getContext('2d'),\n          a4w = 190,\n          a4h = 277,\n          //A4大小，210mm x 297mm，四边各保留10mm的边距，显示区域190x277\n      imgHeight = Math.floor(a4h * canvas.width / a4w),\n          //按A4显示比例换算一页图像的像素高度\n      renderedHeight = 0;\n\n      while (renderedHeight < canvas.height) {\n        var page = document.createElement(\"canvas\");\n        page.width = canvas.width;\n        page.height = Math.min(imgHeight, canvas.height - renderedHeight); //可能内容不足一页\n        //用getImageData剪裁指定区域，并画到前面创建的canvas对象中\n\n        page.getContext('2d').putImageData(ctx.getImageData(0, renderedHeight, canvas.width, Math.min(imgHeight, canvas.height - renderedHeight)), 0, 0);\n        pdf.addImage(page.toDataURL('image/jpeg', 1.0), 'JPEG', 10, 10, a4w, Math.min(a4h, a4w * page.height / page.width)); //添加图像到页面，保留10mm边距\n\n        renderedHeight += imgHeight;\n        if (renderedHeight < canvas.height) pdf.addPage(); //如果后面还有内容，添加一个空页\n      }\n\n      pdf.save(htmlTitle);\n    });\n  }\n};",{"version":3,"sources":["C:/Users/Hacker/Desktop/zhaop/resume-master/resume-master/recruit-system/recruit-web/src/view/resume/export-pdf.js"],"names":["html2canvas","jsPDF","exportPdf","elementId","htmlTitle","element","document","getElementById","logging","allowTaint","useCORS","tainttest","then","canvas","pdf","ctx","getContext","a4w","a4h","imgHeight","Math","floor","width","renderedHeight","height","page","createElement","min","putImageData","getImageData","addImage","toDataURL","addPage","save"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe;AAEbC,EAAAA,SAFa,qBAEHC,SAFG,EAEQC,SAFR,EAEmB;AAC9B,QAAIC,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwBJ,SAAxB,CAAd;AACAH,IAAAA,WAAW,CAACK,OAAD,EAAU;AACnBG,MAAAA,OAAO,EAAE,IADU;AAEnBC,MAAAA,UAAU,EAAE,IAFO;AAGnBC,MAAAA,OAAO,EAAE,IAHU;AAInBC,MAAAA,SAAS,EAAE;AAJQ,KAAV,CAAX,CAKGC,IALH,CAKQ,UAAUC,MAAV,EAAkB;AACxB,UAAIC,GAAG,GAAG,IAAIb,KAAJ,CAAU,GAAV,EAAe,IAAf,EAAqB,IAArB,CAAV,CADwB,CACc;;AACtC,UAAIc,GAAG,GAAGF,MAAM,CAACG,UAAP,CAAkB,IAAlB,CAAV;AAAA,UACEC,GAAG,GAAG,GADR;AAAA,UAEEC,GAAG,GAAG,GAFR;AAAA,UAEa;AACXC,MAAAA,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWH,GAAG,GAAGL,MAAM,CAACS,KAAb,GAAqBL,GAAhC,CAHd;AAAA,UAGoD;AAClDM,MAAAA,cAAc,GAAG,CAJnB;;AAMA,aAAOA,cAAc,GAAGV,MAAM,CAACW,MAA/B,EAAuC;AACrC,YAAIC,IAAI,GAAGnB,QAAQ,CAACoB,aAAT,CAAuB,QAAvB,CAAX;AACAD,QAAAA,IAAI,CAACH,KAAL,GAAaT,MAAM,CAACS,KAApB;AACAG,QAAAA,IAAI,CAACD,MAAL,GAAcJ,IAAI,CAACO,GAAL,CAASR,SAAT,EAAoBN,MAAM,CAACW,MAAP,GAAgBD,cAApC,CAAd,CAHqC,CAG8B;AAEnE;;AACAE,QAAAA,IAAI,CAACT,UAAL,CAAgB,IAAhB,EAAsBY,YAAtB,CAAmCb,GAAG,CAACc,YAAJ,CAAiB,CAAjB,EAAoBN,cAApB,EAAoCV,MAAM,CAACS,KAA3C,EAAkDF,IAAI,CAACO,GAAL,CAASR,SAAT,EAAoBN,MAAM,CAACW,MAAP,GAAgBD,cAApC,CAAlD,CAAnC,EAA2I,CAA3I,EAA8I,CAA9I;AACAT,QAAAA,GAAG,CAACgB,QAAJ,CAAaL,IAAI,CAACM,SAAL,CAAe,YAAf,EAA6B,GAA7B,CAAb,EAAgD,MAAhD,EAAwD,EAAxD,EAA4D,EAA5D,EAAgEd,GAAhE,EAAqEG,IAAI,CAACO,GAAL,CAAST,GAAT,EAAcD,GAAG,GAAGQ,IAAI,CAACD,MAAX,GAAoBC,IAAI,CAACH,KAAvC,CAArE,EAPqC,CAOgF;;AAErHC,QAAAA,cAAc,IAAIJ,SAAlB;AACA,YAAII,cAAc,GAAGV,MAAM,CAACW,MAA5B,EACEV,GAAG,CAACkB,OAAJ,GAXmC,CAWpB;AAClB;;AAEDlB,MAAAA,GAAG,CAACmB,IAAJ,CAAS7B,SAAT;AACD,KA5BD;AA6BD;AAjCY,CAAf","sourcesContent":["import html2canvas from 'html2canvas'\nimport jsPDF from 'jspdf'\n\nexport default {\n\n  exportPdf(elementId, htmlTitle) {\n    var element = document.getElementById(elementId);\n    html2canvas(element, {\n      logging: true,\n      allowTaint: true,\n      useCORS: true,\n      tainttest: true,\n    }).then(function (canvas) {\n      var pdf = new jsPDF('p', 'mm', 'a4'); //A4纸，纵向\n      var ctx = canvas.getContext('2d'),\n        a4w = 190,\n        a4h = 277, //A4大小，210mm x 297mm，四边各保留10mm的边距，显示区域190x277\n        imgHeight = Math.floor(a4h * canvas.width / a4w), //按A4显示比例换算一页图像的像素高度\n        renderedHeight = 0;\n\n      while (renderedHeight < canvas.height) {\n        var page = document.createElement(\"canvas\");\n        page.width = canvas.width;\n        page.height = Math.min(imgHeight, canvas.height - renderedHeight); //可能内容不足一页\n\n        //用getImageData剪裁指定区域，并画到前面创建的canvas对象中\n        page.getContext('2d').putImageData(ctx.getImageData(0, renderedHeight, canvas.width, Math.min(imgHeight, canvas.height - renderedHeight)), 0, 0);\n        pdf.addImage(page.toDataURL('image/jpeg', 1.0), 'JPEG', 10, 10, a4w, Math.min(a4h, a4w * page.height / page.width)); //添加图像到页面，保留10mm边距\n\n        renderedHeight += imgHeight;\n        if (renderedHeight < canvas.height)\n          pdf.addPage(); //如果后面还有内容，添加一个空页\n      }\n\n      pdf.save(htmlTitle);\n    });\n  }\n}\n"]}]}