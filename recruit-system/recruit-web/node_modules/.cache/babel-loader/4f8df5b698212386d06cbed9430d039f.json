{"remainingRequest":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\src\\component\\index\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\src\\component\\index\\index.vue","mtime":1656036094000},{"path":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\babel.config.js","mtime":1656036094000},{"path":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677772052210},{"path":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1677771858682},{"path":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677772052210},{"path":"C:\\Users\\Hacker\\Desktop\\zhaop\\resume-master\\resume-master\\recruit-system\\recruit-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1677772060461}],"contextDependencies":[],"result":["import _regeneratorRuntime from \"C:\\\\Users\\\\Hacker\\\\Desktop\\\\zhaop\\\\resume-master\\\\resume-master\\\\recruit-system\\\\recruit-web\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport store from '@/store';\nimport { mapActions, mapMutations, mapGetters } from 'vuex';\nimport Vue from 'vue';\nimport Croppa from 'vue-croppa';\nimport User from '@/lin/model/user';\nimport Utils from '@/lin/util/util';\nimport _axios, { post, get, put } from '@/lin/plugin/axios';\nVue.use(Croppa);\nexport default _defineProperty({\n  data: function data() {\n    return {\n      groupId: \"\",\n      code: \"\",\n      myFlag: true,\n      num: 0,\n      showfind: false,\n      showlogin: false,\n      showregister: false,\n      isone: false,\n      istwo: false,\n      direction: \"rtl\",\n      loading: false,\n      // 加载动画\n      wait: 2,\n      // 2000ms之内不能重复发起请求\n      throttleLogin: null,\n      // 节流登录\n      form: {\n        username: '',\n        password: ''\n      },\n      registerform: {\n        roletype: \"\",\n        nickname: '',\n        username: '',\n        password: '',\n        confirm_password: '',\n        tel: '',\n        group_ids: ['']\n      },\n      registerRules: {\n        username: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }],\n        roletype: [{\n          required: true,\n          message: '请选择用户类型',\n          trigger: 'blur'\n        }],\n        tel: [{\n          required: true,\n          message: '请输入手机号码',\n          trigger: 'blur'\n        }],\n        confirm_password: [{\n          required: true,\n          message: '请确认输入密码',\n          trigger: 'blur'\n        }],\n        nickname: [{\n          required: true,\n          message: '请输入真实姓名',\n          trigger: 'blur'\n        }]\n      },\n      rules: {\n        username: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  props: ['isnow'],\n  created: function created() {},\n  computed: {\n    isemplyee: function isemplyee() {\n      if (store.getters.user === null) {\n        return false;\n      } // 求职者groupId==2\n\n\n      if (this.groupId === 2 || store.getters.groupId === 2) {\n        return true;\n      }\n\n      return false;\n    },\n    ishr: function ishr() {\n      if (store.getters.user === null) {\n        return false;\n      } // hr groupId==3\n\n\n      if (this.groupId === 3 || store.getters.groupId === 3) {\n        return true;\n      }\n\n      return false;\n    },\n    isadmin: function isadmin() {\n      if (store.getters.user === null) {\n        return false;\n      } // hr groupId==3\n\n\n      if (this.groupId === 4 || store.getters.groupId === 4) {\n        return true;\n      }\n\n      return false;\n    },\n    nickname: function nickname() {\n      if (store.getters.user === null) {\n        return null;\n      } else {\n        console.log(store.getters);\n        return store.getters.user.nickname;\n      }\n    },\n    userstate: function userstate() {\n      if (store.getters.user === null) {\n        return false;\n      }\n\n      return true;\n    }\n  },\n  methods: _objectSpread(_objectSpread(_objectSpread({\n    userRegister: function () {\n      var _userRegister = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                this.registerform.group_ids[0] = this.registerform.roletype;\n                _context.next = 4;\n                return User.register(this.registerform);\n\n              case 4:\n                res = _context.sent;\n\n                if (res.code < window.MAX_SUCCESS_CODE) {\n                  this.$message.success(\"\\u6CE8\\u518C\\u6210\\u529F\");\n                  this.resetForm(formName);\n                }\n\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                this.$message.error(_context.t0);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 8]]);\n      }));\n\n      function userRegister() {\n        return _userRegister.apply(this, arguments);\n      }\n\n      return userRegister;\n    }(),\n    handleClose: function handleClose(done) {\n      this.form = {\n        username: '',\n        password: ''\n      };\n      this.showlogin = false;\n    },\n    handleClose1: function handleClose1(done) {\n      this.form = {\n        username: '',\n        password: ''\n      };\n      this.showregister = false;\n    },\n    handleClose2: function handleClose2(done) {\n      this.form = {\n        username: '',\n        password: ''\n      };\n      this.showfind = false;\n    },\n    login: function () {\n      var _login = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _this$form, username, password;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this$form = this.form, username = _this$form.username, password = _this$form.password;\n                _context2.prev = 1;\n                this.loading = true;\n                _context2.next = 5;\n                return User.getToken(username, password);\n\n              case 5:\n                _context2.next = 7;\n                return this.getInformation();\n\n              case 7:\n                this.loading = false; // this.$router.push('/about')\n\n                this.handleClose();\n                this.$message.success('登录成功');\n                _context2.next = 16;\n                break;\n\n              case 12:\n                _context2.prev = 12;\n                _context2.t0 = _context2[\"catch\"](1);\n                this.loading = false;\n                console.log(_context2.t0);\n\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[1, 12]]);\n      }));\n\n      function login() {\n        return _login.apply(this, arguments);\n      }\n\n      return login;\n    }(),\n    getInformation: function () {\n      var _getInformation = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var user, id, res;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return User.getPermissions();\n\n              case 3:\n                user = _context3.sent;\n                this.setUserAndState(user);\n                this.setUserPermissions(user.permissions);\n                id = store.getters.user === null ? \"\" : store.getters.user.id;\n                _context3.next = 9;\n                return get('recruit/user/getGroup/' + id);\n\n              case 9:\n                res = _context3.sent;\n                store.getters.groupId = res;\n                this.groupId = res;\n                _context3.next = 17;\n                break;\n\n              case 14:\n                _context3.prev = 14;\n                _context3.t0 = _context3[\"catch\"](0);\n                console.log(_context3.t0);\n\n              case 17:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 14]]);\n      }));\n\n      function getInformation() {\n        return _getInformation.apply(this, arguments);\n      }\n\n      return getInformation;\n    }(),\n    outLogin: function outLogin() {\n      // window.location.reload(true)\n      this.loginOut();\n      this.$message.success(\"退出登录成功\");\n    }\n  }, mapActions(['loginOut', 'setUserAndState'])), mapMutations({\n    setUserPermissions: 'SET_USER_PERMISSIONS'\n  })), {}, {\n    tobacked: function () {\n      var _tobacked = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this.$router.push({\n                  path: '/about'\n                });\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function tobacked() {\n        return _tobacked.apply(this, arguments);\n      }\n\n      return tobacked;\n    }()\n  }),\n  mounted: function mounted() {\n    this.num = this.isnow; // if(this.num!=\"0\"){\n    //     let ul=document.getElementById('navNum') ;\n    //     let li=ul.children[this.num-1];\n    //     li.className='now';\n    // }\n\n    if (this.num == \"1\") {\n      this.isone = true;\n    } else if (this.num == \"2\") {\n      this.istwo = true;\n    }\n  }\n}, \"created\", function created() {\n  // 节流登录\n  this.throttleLogin = Utils.throttle(this.login, this.wait);\n});",{"version":3,"mappings":"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","names":["mapActions","mapMutations","mapGetters","post","get","put","Vue","data","groupId","code","myFlag","num","showfind","showlogin","showregister","isone","istwo","direction","loading","wait","throttleLogin","form","username","password","registerform","roletype","nickname","confirm_password","tel","group_ids","registerRules","required","message","trigger","rules","props","created","computed","isemplyee","ishr","isadmin","console","userstate","methods","userRegister","User","res","handleClose","done","handleClose1","handleClose2","login","getInformation","user","id","store","outLogin","setUserPermissions","tobacked","path","mounted"],"sourceRoot":"src/component/index","sources":["index.vue"],"sourcesContent":["<!-- 大部分页面的头部模块 -->\n<!-- 内容主要包括登录和以及登录后需显示的信息，以及网站的几个大选项（如首页、公司等） -->\n<template>\n<div>\n  <!-- 注册框 -->\n  <div>\n    <el-drawer title=\"企业员工招聘系统\" :visible.sync=\"showregister\" :direction=\"direction\" :before-close=\"handleClose1\">\n      <el-card class=\"box-card\" style=\"margin-top: 10%;\">\n        <div slot=\"header\" style=\"margin-top: 5%;\">\n          <H1 style=\"margin-bottom: 5%;\">注册账号</H1>\n          <el-form ref=\"form\" :model=\"registerform\" :rules=\"registerRules\">\n            <el-form-item label=\"账号\" prop=\"username\" label-width=\"25%\">\n              <el-input type=\"text\" placeholder=\"请输入账号\" v-model=\"registerform.username\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"姓名\" prop=\"nickname\" label-width=\"25%\">\n              <el-input type=\"text\" placeholder=\"请输入姓名\" v-model=\"registerform.nickname\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"手机号\" prop=\"tel\" label-width=\"25%\">\n              <el-input type=\"text\" placeholder=\"请输入手机号\" v-model=\"registerform.tel\">\n                <template slot=\"append\">\n                  <el-button>发送验证码</el-button>\n                </template>\n              </el-input>\n            </el-form-item>\n            <el-form-item label=\"验证码\" label-width=\"25%\">\n              <el-input placeholder=\"请输入验证码\" v-model=\"code\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"密码\" prop=\"password\" label-width=\"25%\">\n              <el-input type=\"password\" placeholder=\"请输入密码\" v-model=\"registerform.password\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"确认密码\" prop=\"confirm_password\" label-width=\"25%\">\n              <el-input type=\"password\" placeholder=\"请输入密码\" v-model=\"registerform.confirm_password\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"用户类型\" prop=\"roletype\" label-width=\"25%\">\n              <div>\n                <el-radio v-model=\"registerform.roletype\" label=\"2\">求职者</el-radio>\n                <el-radio v-model=\"registerform.roletype\" label=\"3\">招聘者</el-radio>\n              </div>\n            </el-form-item>\n            <el-form-item inline-message>\n              <el-button type=\"primary\" @click=\"userRegister()\" style=\"width: 100%;\">注册</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </el-card>\n    </el-drawer>\n  </div>\n\n  <!-- 登录框 -->\n  <div>\n    <el-drawer title=\"企业员工招聘系统\" :visible.sync=\"showlogin\" :direction=\"direction\" :before-close=\"handleClose\">\n      <el-card class=\"box-card\" style=\"margin-top: 20%;\">\n        <div slot=\"header\" style=\"margin-top: 20%;\">\n          <H1 style=\"margin-bottom: 5%;\">欢迎登录</H1>\n          <el-form ref=\"form\" :model=\"form\" :rules=\"rules\">\n            <el-form-item label=\"账号\" prop=\"username\" label-width=\"15%\">\n              <el-input type=\"text\" placeholder=\"请输入用户名\" v-model=\"form.username\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"密码\" prop=\"password\" label-width=\"15%\">\n              <el-input type=\"password\" placeholder=\"请输入密码\" v-model=\"form.password\"></el-input>\n            </el-form-item>\n            <el-form-item inline-message>\n              <el-row>\n                <el-col>\n                  <el-button type=\"primary\" @click.native.prevent=\"throttleLogin\" style=\"width: 100%;\">登录\n                  </el-button>\n                </el-col>\n                <el-col>\n                  <p @click=\"showlogin = false; showfind = true\" style=\"cursor:pointer;text-decoration:underline\">忘记密码\n                  </p>\n                </el-col>\n              </el-row>\n            </el-form-item>\n          </el-form>\n        </div>\n      </el-card>\n    </el-drawer>\n  </div>\n\n  <!-- 忘记密码 -->\n  <div>\n    <el-drawer title=\"企业员工招聘系统\" :visible.sync=\"showfind\" :direction=\"direction\" :before-close=\"handleClose2\">\n      <el-card class=\"box-card\" style=\"margin-top: 20%;\">\n        <div slot=\"header\" style=\"margin-top: 8%;\">\n          <H1 style=\"margin-bottom: 5%;\">找回密码</H1>\n          <el-form ref=\"form\" @submit.prevent=\"throttleLogin()\" :model=\"form\" :rules=\"rules\">\n            <el-form-item label=\"账号\" prop=\"username\" label-width=\"25%\">\n              <el-input type=\"text\" placeholder=\"请输入账号\" v-model=\"form.username\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"手机号\" prop=\"username\" label-width=\"25%\">\n              <el-input type=\"text\" placeholder=\"请输入手机号\" v-model=\"form.username\">\n                <template slot=\"append\">\n                  <el-button>发送验证码</el-button>\n                </template>\n              </el-input>\n            </el-form-item>\n            <el-form-item label=\"验证码\" prop=\"username\" label-width=\"25%\">\n              <el-input type=\"text\" placeholder=\"请输入验证码\" v-model=\"form.username\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"密码\" prop=\"password\" label-width=\"25%\">\n              <el-input type=\"password\" placeholder=\"请输入新密码\" v-model=\"form.password\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"确认密码\" prop=\"password\" label-width=\"25%\">\n              <el-input type=\"password\" placeholder=\"请确认新密码\" v-model=\"form.password\"></el-input>\n            </el-form-item>\n            <el-form-item inline-message>\n              <el-row>\n                <el-col>\n                  <el-button type=\"primary\" @click=\"throttleLogin()\" @keyup.enter=\"throttleLogin()\" style=\"width: 100%;\">提交</el-button>\n                </el-col>\n              </el-row>\n            </el-form-item>\n          </el-form>\n        </div>\n      </el-card>\n    </el-drawer>\n  </div>\n\n  <!-- 头部 -->\n  <div id=\"headTop\">\n    <div class=\"contains\">\n      <ul class=\"left\">\n        <!-- <i class=\"iconfont icon-mobilephone_fill\"></i> -->\n        <li>\n          <span class=\"lgstyle\">企业员工招聘系统</span>&nbsp;&nbsp;\n        </li>\n      </ul>\n      <ul class=\"right2\">\n        <li v-if=\"this.userstate\">\n          <span>\n            <el-button type=\"primary\" round @click=\"tobacked\">进入后台</el-button>&nbsp;\n            <el-button type=\"danger\" round @click=\"outLogin\">注销</el-button>&nbsp;&nbsp;&nbsp;\n          </span>\n          <span style=\"font-size:22x;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ nickname }}，欢迎使用系统</span>\n        </li>\n      </ul>\n      <ul class=\"right\" v-if=\"this.userstate && isemplyee\">\n        <li style=\"font-size:18px;\">\n          <router-link to=\"/resume-create\">我的简历&nbsp;&nbsp;&nbsp;&nbsp;</router-link>\n        </li>\n        <li style=\"font-size:18px;\">\n          <router-link to=\"/box/wait\">投递箱&nbsp;&nbsp;&nbsp;&nbsp;</router-link>\n        </li>\n        <li style=\"font-size:18px;\">\n          <router-link to=\"/collection\">收藏夹&nbsp;&nbsp;&nbsp;&nbsp;</router-link>\n        </li>\n      </ul>\n      <ul class=\"right\" v-if=\"this.userstate && ishr\">\n        <li style=\"font-size:18px;\">\n          <router-link to=\"/company/modify\">我的企业&nbsp;&nbsp;&nbsp;&nbsp;</router-link>\n        </li>\n        <li style=\"font-size:18px;\">\n          <router-link to=\"/application/wait\">查看职位申请&nbsp;&nbsp;&nbsp;&nbsp;</router-link>\n        </li>\n        <li style=\"font-size:18px;\">\n          <router-link to=\"/interview/manage\">面试管理&nbsp;&nbsp;&nbsp;&nbsp;</router-link>\n        </li>\n      </ul>\n      <ul class=\"right\" v-if=\"this.userstate && isadmin\">\n        <li style=\"font-size:18px;\">\n          <router-link to=\"/company/examine/wait\">企业认证管理&nbsp;&nbsp;&nbsp;&nbsp;</router-link>\n        </li>\n        <li style=\"font-size:18px;\">\n          <router-link to=\"/position/examine/wait\">职位审核&nbsp;&nbsp;&nbsp;&nbsp;</router-link>\n        </li>\n      </ul>\n      <ul class=\"right1\">\n        <li style=\"font-size:18px;\">\n          <span v-if=\"!this.userstate\">\n            <el-button @click=\"showlogin = true\" type=\"primary\" round>登录</el-button>&nbsp;&nbsp;\n            <el-button @click=\"showregister = true\" round>注册</el-button>\n          </span>\n        </li>\n      </ul>\n    </div>\n  </div>\n\n  <div id=\"headnav\">\n    <div class=\"contains\">\n      <div class=\"logo left\">\n        <img class=\"logoimg\" img src=\"../../assets/image/logo.png\" />\n        <span class=\"ads\">全国站</span>\n      </div>\n      <ul class=\"navlist\" id=\"navNum\">\n        <li :class=\"{ now: isone }\">\n          <router-link to=\"/index\">首页</router-link>\n        </li>\n        <li :class=\"{ now: istwo }\">\n          <router-link to=\"/index\">咨询</router-link>\n        </li>\n        <li>\n          <router-link to=\"/index\">校园</router-link>\n        </li>\n        <li>\n          <router-link to=\"/index\">言职</router-link>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport store from '@/store';\nimport {\n  mapActions,\n  mapMutations,\n  mapGetters\n} from 'vuex'\nimport Vue from 'vue'\nimport Croppa from 'vue-croppa'\nimport User from '@/lin/model/user'\nimport Utils from '@/lin/util/util'\nimport _axios, {\n  post,\n  get,\n  put\n} from '@/lin/plugin/axios'\nVue.use(Croppa)\nexport default {\n  data() {\n    return {\n      groupId: \"\",\n      code: \"\",\n      myFlag: true,\n      num: 0,\n      showfind: false,\n      showlogin: false,\n      showregister: false,\n      isone: false,\n      istwo: false,\n      direction: \"rtl\",\n      loading: false, // 加载动画\n      wait: 2, // 2000ms之内不能重复发起请求\n      throttleLogin: null, // 节流登录\n      form: {\n        username: '',\n        password: '',\n      },\n      registerform: {\n        roletype: \"\",\n        nickname: '',\n        username: '',\n        password: '',\n        confirm_password: '',\n        tel: '',\n        group_ids: ['', ]\n      },\n      registerRules: {\n        username: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }],\n        roletype: [{\n          required: true,\n          message: '请选择用户类型',\n          trigger: 'blur'\n        }],\n        tel: [{\n          required: true,\n          message: '请输入手机号码',\n          trigger: 'blur'\n        }],\n        confirm_password: [{\n          required: true,\n          message: '请确认输入密码',\n          trigger: 'blur'\n        }],\n        nickname: [{\n          required: true,\n          message: '请输入真实姓名',\n          trigger: 'blur'\n        }]\n      },\n      rules: {\n        username: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }]\n      }\n    }\n  },\n  props: ['isnow'],\n  created() {\n\n  },\n  computed: {\n    isemplyee: function () {\n      if (store.getters.user === null) {\n        return false\n      }\n      // 求职者groupId==2\n      if (this.groupId === 2 || store.getters.groupId === 2) {\n        return true\n      }\n      return false\n    },\n    ishr: function () {\n      if (store.getters.user === null) {\n        return false\n      }\n      // hr groupId==3\n      if (this.groupId === 3 || store.getters.groupId === 3) {\n        return true\n      }\n      return false\n    },\n    isadmin: function () {\n      if (store.getters.user === null) {\n        return false\n      }\n      // hr groupId==3\n      if (this.groupId === 4 || store.getters.groupId === 4) {\n        return true\n      }\n      return false\n    },\n    nickname: function () {\n      if (store.getters.user === null) {\n        return null\n      } else {\n        console.log(store.getters)\n        return store.getters.user.nickname\n      }\n    },\n    userstate: function () {\n      if (store.getters.user === null) {\n        return false\n      }\n      return true\n    },\n  },\n  methods: {\n    async userRegister() {\n      try {\n        this.registerform.group_ids[0] = this.registerform.roletype\n        const res = await User.register(this.registerform)\n        if (res.code < window.MAX_SUCCESS_CODE) {\n          this.$message.success(`注册成功`)\n          this.resetForm(formName)\n        }\n      } catch (e) {\n        this.$message.error(e)\n      }\n    },\n    handleClose(done) {\n      this.form = {\n        username: '',\n        password: '',\n      }\n      this.showlogin = false\n    },\n    handleClose1(done) {\n      this.form = {\n        username: '',\n        password: '',\n      }\n      this.showregister = false\n    },\n    handleClose2(done) {\n      this.form = {\n        username: '',\n        password: '',\n      }\n      this.showfind = false\n    },\n    async login() {\n      const {\n        username,\n        password\n      } = this.form\n      try {\n        this.loading = true\n        await User.getToken(username, password)\n        await this.getInformation()\n        this.loading = false\n        // this.$router.push('/about')\n        this.handleClose()\n        this.$message.success('登录成功')\n      } catch (e) {\n        this.loading = false\n        console.log(e)\n      }\n    },\n    async getInformation() {\n      try {\n        // 尝试获取当前用户信息\n        const user = await User.getPermissions()\n        this.setUserAndState(user)\n        this.setUserPermissions(user.permissions)\n        const id = store.getters.user === null ? \"\" : store.getters.user.id\n        const res = await get('recruit/user/getGroup/' + id)\n        store.getters.groupId = res\n        this.groupId = res\n      } catch (e) {\n        console.log(e)\n      }\n    },\n    outLogin() {\n      // window.location.reload(true)\n      this.loginOut()\n      this.$message.success(\"退出登录成功\")\n    },\n    ...mapActions(['loginOut', 'setUserAndState']),\n    ...mapMutations({\n      setUserPermissions: 'SET_USER_PERMISSIONS',\n    }),\n    async tobacked() {\n      this.$router.push({\n        path: '/about'\n      })\n    },\n  },\n  mounted() {\n    this.num = this.isnow;\n    // if(this.num!=\"0\"){\n    //     let ul=document.getElementById('navNum') ;\n    //     let li=ul.children[this.num-1];\n    //     li.className='now';\n    // }\n    if (this.num == \"1\") {\n      this.isone = true;\n    } else if (this.num == \"2\") {\n      this.istwo = true;\n    }\n  },\n  created() {\n    // 节流登录\n    this.throttleLogin = Utils.throttle(this.login, this.wait)\n  },\n}\n</script>\n\n<style lang=\"scss\">\n@import url(\"//at.alicdn.com/t/font_631781_uzwcwz6vcmcxr.css\");\n$nx-color: #449efe;\n$nx-color2: #0470b8;\n$all-padding: 0;\n$nx-width: 76.25rem;\n\n.loginbox {\n  width: 60%;\n\n  height: 60%;\n\n  min-width: 400px;\n\n  max-width: 500px;\n\n  padding: 20px;\n\n  overflow: auto;\n\n  margin: auto;\n\n  position: absolute;\n\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n\n.left {\n  float: left;\n  padding-left: $all-padding;\n}\n\n.right2 {\n  font-size: large;\n  margin-top: auto;\n  float: right;\n  padding-left: $all-padding;\n}\n\n.right {\n  margin-top: 7px;\n  cursor: pointer;\n  float: right;\n  padding-right: $all-padding;\n}\n\n.right1 {\n  cursor: pointer;\n  float: right;\n  padding-right: $all-padding;\n}\n\n#headTop {\n  width: 100%;\n  height: 2.5rem;\n  background: rgb(51, 51, 51);\n\n  // padding: $all-padding;\n  div {\n    width: $nx-width;\n    height: 100%;\n    margin: 0 auto;\n\n    ul {\n      height: 100%;\n\n      .iconfont {\n        float: left;\n        line-height: 2rem;\n        font-size: 1.3rem;\n        color: $nx-color2;\n      }\n\n      li {\n        float: left;\n        height: 100%;\n        font-size: 14px;\n        color: #c4c3c3;\n        margin-top: 0.3rem;\n\n        a {\n          color: #aaa;\n        }\n\n        .lgstyle {\n          color: $nx-color2;\n          font-size: 28px;\n        }\n      }\n    }\n  }\n}\n\n#headnav {\n  width: 100%;\n  height: 4rem;\n  // padding: $all-padding;\n  background-color: #fff;\n  border-bottom: 1px solid #ddd;\n  overflow: hidden;\n\n  .contains {\n    width: 76.25rem;\n    height: 100%;\n    margin: 0 auto;\n\n    .logo {\n      width: 10rem;\n      height: 1.2rem;\n      margin-left: 4rem;\n      margin-right: 2rem;\n\n      img {\n        margin: 5px;\n        height: 50px;\n      }\n\n      span {\n        float: right;\n        display: inline-block;\n        line-height: 80px;\n        margin-left: 5px;\n      }\n    }\n\n    .navlist {\n      height: 100%;\n\n      li {\n        float: left;\n        font-size: 20px;\n        margin: 20px;\n        padding: 0 6px 11px;\n\n        &.now,\n        &:hover {\n          border-bottom: 2px solid $nx-color2;\n        }\n      }\n    }\n  }\n}\n</style>\n"]}]}